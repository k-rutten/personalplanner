<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Weekplanner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Inter', 'Segoe UI', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        :root {
            --system-blue: #007AFF;
            --system-green: #34C759;
            --system-red: #FF3B30;
            --system-teal: #5AC8FA;
            --label-primary: rgba(0, 0, 0, 1);
            --label-secondary: rgba(60, 60, 67, 0.6);
            --label-tertiary: rgba(60, 60, 67, 0.3);
            --system-gray3: #C7C7CC;
            --system-gray5: #E5E5EA;
            --system-gray6: #F2F2F7;
            --card-bg: #FFFFFF;
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
        body { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        @keyframes toast-in {
            from { opacity: 0; transform: translateY(8px) scale(0.96); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        @keyframes toast-out {
            from { opacity: 1; transform: translateY(0) scale(1); }
            to { opacity: 0; transform: translateY(-4px) scale(0.98); }
        }
        .toast-enter { animation: toast-in 0.25s ease-out forwards; }
        .toast-exit { animation: toast-out 0.2s ease-in forwards; }
    </style>
</head>
<body class="min-h-screen" style="background: var(--system-gray6);">
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        const DAYS = ['maandag', 'dinsdag', 'woensdag', 'donderdag', 'vrijdag'];
        const DAY_LABELS = { maandag: 'Maandag', dinsdag: 'Dinsdag', woensdag: 'Woensdag', donderdag: 'Donderdag', vrijdag: 'Vrijdag' };
        const DAY_SHORT = { maandag: 'Ma', dinsdag: 'Di', woensdag: 'Wo', donderdag: 'Do', vrijdag: 'Vr' };
        const HOURS_PER_DAY = 8;
        const STORAGE_KEY = 'weekplanner_data';

        function getMonday(date) {
            const d = new Date(date);
            const day = d.getDay();
            const diff = d.getDate() - day + (day === 0 ? -6 : 1);
            d.setDate(diff);
            d.setHours(0, 0, 0, 0);
            return d;
        }

        const formatDate = (date) => date.toISOString().split('T')[0];
        const fmt = (n) => Number.isInteger(n) ? n : n.toFixed(1);

        function getDayDate(mondayDate, dayIndex) {
            const d = new Date(mondayDate);
            d.setDate(d.getDate() + dayIndex);
            return d.toLocaleDateString('nl-NL', { day: 'numeric', month: 'short' });
        }

        function createEmptyWeek() {
            const days = {};
            DAYS.forEach(day => { days[day] = { workHours: 0, freeHours: 0 }; });
            return days;
        }

        function loadAllData() {
            try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {}; }
            catch { return {}; }
        }

        const saveAllData = (data) => localStorage.setItem(STORAGE_KEY, JSON.stringify(data));

        function encodeWeekToURL(weekKey, weekData) {
            const encoded = btoa(unescape(encodeURIComponent(JSON.stringify({ week: weekKey, days: weekData }))));
            return window.location.origin + window.location.pathname + '?d=' + encoded;
        }

        function decodeWeekFromURL() {
            const encoded = new URLSearchParams(window.location.search).get('d');
            if (!encoded) return null;
            try { return JSON.parse(decodeURIComponent(escape(atob(encoded)))); }
            catch { return null; }
        }

        function isCurrentWeek(mondayDate) {
            return formatDate(mondayDate) === formatDate(getMonday(new Date()));
        }

        // --- iOS Screen Time style Bar Chart ---
        const DAY_SINGLE = { maandag: 'M', dinsdag: 'D', woensdag: 'W', donderdag: 'D', vrijdag: 'V' };

        function WeekBarChart({ days }) {
            const maxHours = Math.max(HOURS_PER_DAY, ...DAYS.map(d => {
                const dd = days[d] || { workHours: 0, freeHours: 0 };
                return (parseFloat(dd.workHours) || 0) + (parseFloat(dd.freeHours) || 0);
            }));
            // Round up to nearest even number, ensure headroom above target
            const chartMax = Math.ceil((Math.max(maxHours, HOURS_PER_DAY) + 2) / 2) * 2;
            // Grid lines every 4 hours: 0, 4, 8, 12...
            const gridSteps = [];
            for (let i = 0; i <= chartMax; i += 4) gridSteps.push(i);

            const targetPct = (HOURS_PER_DAY / chartMax) * 100;
            const barAreaH = 120;
            const labelRowH = 24;

            return (
                <div className="w-full flex">
                    {/* Chart + day labels column */}
                    <div className="flex-1">
                        {/* Bar area */}
                        <div className="relative" style={{ height: `${barAreaH}px` }}>
                            {/* Horizontal grid lines (solid) */}
                            {gridSteps.map(step => (
                                <div key={step} className="absolute left-0 right-0 pointer-events-none"
                                    style={{ bottom: `${(step / chartMax) * 100}%`, height: '0.5px', background: 'var(--system-gray5)' }} />
                            ))}

                            {/* Vertical dotted dividers — including left and right edges */}
                            {[0, 1, 2, 3, 4, 5].map(i => (
                                <div key={i} className="absolute top-0 bottom-0 pointer-events-none"
                                    style={{ left: `${(i / DAYS.length) * 100}%` }}>
                                    <svg width="1" height="100%" style={{ display: 'block' }}>
                                        <line x1="0.5" y1="0" x2="0.5" y2="100%" stroke="var(--system-gray5)" strokeWidth="0.5" strokeDasharray="2 2" />
                                    </svg>
                                </div>
                            ))}

                            {/* Target dashed line */}
                            <div className="absolute pointer-events-none"
                                style={{ bottom: `${targetPct}%`, left: 0, right: 0, zIndex: 2 }}>
                                <svg width="100%" height="2" style={{ display: 'block' }}>
                                    <line x1="0" y1="1" x2="100%" y2="1" stroke="var(--system-green)" strokeWidth="1.5" strokeDasharray="6 4" />
                                </svg>
                            </div>

                            {/* Bars */}
                            <div className="flex items-end h-full">
                                {DAYS.map((day) => {
                                    const d = days[day] || { workHours: 0, freeHours: 0 };
                                    const work = parseFloat(d.workHours) || 0;
                                    const free = parseFloat(d.freeHours) || 0;
                                    const total = work + free;
                                    const overLimit = total > HOURS_PER_DAY;
                                    const totalPx = chartMax > 0 ? (total / chartMax) * barAreaH : 0;

                                    return (
                                        <div key={day} className="flex-1 flex items-end justify-center">
                                            {total > 0 && (
                                                overLimit ? (
                                                    <div style={{
                                                        width: '60%',
                                                        height: `${Math.max(totalPx, 4)}px`,
                                                        background: 'var(--system-red)',
                                                        borderRadius: '4px 4px 0 0',
                                                        transition: 'height 0.5s cubic-bezier(0.4, 0, 0.2, 1)'
                                                    }} />
                                                ) : (
                                                    <div className="flex flex-col-reverse" style={{
                                                        width: '60%',
                                                        height: `${Math.max(totalPx, 4)}px`,
                                                        borderRadius: '4px 4px 0 0',
                                                        overflow: 'hidden',
                                                        transition: 'height 0.5s cubic-bezier(0.4, 0, 0.2, 1)'
                                                    }}>
                                                        <div style={{
                                                            height: work > 0 ? `${(work / total) * 100}%` : '0',
                                                            background: 'var(--system-blue)',
                                                            minHeight: work > 0 ? '2px' : '0'
                                                        }} />
                                                        <div style={{
                                                            height: free > 0 ? `${(free / total) * 100}%` : '0',
                                                            background: 'var(--system-teal)',
                                                            minHeight: free > 0 ? '2px' : '0'
                                                        }} />
                                                    </div>
                                                )
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Day labels — below the 0-line */}
                        <div className="flex" style={{ paddingTop: '6px' }}>
                            {DAYS.map((day) => (
                                <div key={day} className="flex-1 text-center">
                                    <span style={{ fontSize: '10px', fontWeight: 400, color: 'var(--label-secondary)', lineHeight: 1 }}>
                                        {DAY_SINGLE[day]}
                                    </span>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Y-axis labels + gemid. */}
                    <div className="relative flex-shrink-0" style={{ width: '36px', marginBottom: `${labelRowH}px` }}>
                        {gridSteps.map(step => (
                            <span key={step} className="absolute" style={{
                                left: '6px',
                                bottom: `${(step / chartMax) * 100}%`,
                                transform: 'translateY(50%)',
                                fontSize: '10px',
                                fontWeight: 400,
                                color: 'var(--label-secondary)',
                                lineHeight: 1
                            }}>
                                {step === 0 ? '0' : `${step} u`}
                            </span>
                        ))}
                        <span className="absolute" style={{
                            left: '6px',
                            bottom: `${targetPct}%`,
                            transform: 'translateY(-130%)',
                            fontSize: '10px',
                            fontWeight: 600,
                            color: 'var(--system-green)',
                            lineHeight: 1,
                            whiteSpace: 'nowrap'
                        }}>gemid.</span>
                    </div>
                </div>
            );
        }

        // --- Toast ---
        function Toast({ message, visible }) {
            const [show, setShow] = useState(false);
            const [exiting, setExiting] = useState(false);

            useEffect(() => {
                if (visible) {
                    setShow(true);
                    setExiting(false);
                } else if (show) {
                    setExiting(true);
                    const t = setTimeout(() => { setShow(false); setExiting(false); }, 200);
                    return () => clearTimeout(t);
                }
            }, [visible]);

            if (!show) return null;
            return (
                <div className="fixed top-6 left-1/2 -translate-x-1/2 z-50">
                    <div className={`px-5 py-2.5 text-white text-sm font-medium rounded-full shadow-lg ${exiting ? 'toast-exit' : 'toast-enter'}`}
                        style={{ background: 'rgba(0,0,0,0.8)' }}>
                        {message}
                    </div>
                </div>
            );
        }

        // --- Week Summary (iOS Screen Time style) ---
        function WeekSummary({ days, todayIndex }) {
            let totalWork = 0, totalFree = 0, approvedDays = 0;

            DAYS.forEach(day => {
                const d = days[day] || { workHours: 0, freeHours: 0 };
                const work = parseFloat(d.workHours) || 0;
                const free = parseFloat(d.freeHours) || 0;
                totalWork += work;
                totalFree += free;
                if (work + free >= HOURS_PER_DAY) approvedDays++;
            });

            const totalHours = totalWork + totalFree;
            const weekTarget = HOURS_PER_DAY * 5;
            const pct = weekTarget > 0 ? Math.round((totalHours / weekTarget) * 100) : 0;
            const isEmpty = totalHours === 0;
            const overLimit = totalHours > weekTarget;

            return (
                <div style={{ background: 'var(--card-bg)', padding: '20px', borderRadius: '13px' }}>
                    {/* Hero stat — iOS Screen Time pattern */}
                    <div style={{ marginBottom: '16px' }}>
                        <p style={{ fontSize: '13px', fontWeight: 400, color: 'var(--label-secondary)', lineHeight: '18px', marginBottom: '2px' }}>
                            Totaal deze week
                        </p>
                        <div className="flex items-baseline justify-between">
                            <span style={{
                                fontSize: '28px',
                                fontWeight: 700,
                                color: overLimit ? 'var(--system-red)' : 'var(--label-primary)',
                                letterSpacing: '-0.4px',
                                lineHeight: '34px'
                            }}>
                                {fmt(totalHours)} <span style={{ fontSize: '20px', fontWeight: 400 }}>uur</span>
                            </span>
                            <span className="tabular-nums" style={{
                                fontSize: '13px',
                                fontWeight: 400,
                                color: 'var(--label-secondary)',
                                lineHeight: '18px'
                            }}>
                                {pct}% van {weekTarget}u
                            </span>
                        </div>
                    </div>

                    {/* Bar chart */}
                    {isEmpty ? (
                        <div className="flex items-center justify-center" style={{ padding: '32px 0' }}>
                            <p style={{ fontSize: '15px', color: 'var(--label-tertiary)', lineHeight: '20px' }}>Vul je uren in om je voortgang te zien</p>
                        </div>
                    ) : (
                        <WeekBarChart days={days} />
                    )}

                    {/* Category stats — colored name (legend), value below in black */}
                    <div className="flex" style={{ marginTop: '16px', gap: '24px' }}>
                        <div>
                            <p style={{ fontSize: '13px', fontWeight: 600, color: 'var(--system-blue)', lineHeight: '18px', marginBottom: '1px' }}>Werk</p>
                            <span className="tabular-nums" style={{ fontSize: '15px', fontWeight: 400, color: 'var(--label-primary)', lineHeight: '20px' }}>{fmt(totalWork)} uur</span>
                        </div>
                        <div>
                            <p style={{ fontSize: '13px', fontWeight: 600, color: 'var(--system-teal)', lineHeight: '18px', marginBottom: '1px' }}>Vrij</p>
                            <span className="tabular-nums" style={{ fontSize: '15px', fontWeight: 400, color: 'var(--label-primary)', lineHeight: '20px' }}>{fmt(totalFree)} uur</span>
                        </div>
                        <div>
                            <p style={{ fontSize: '13px', fontWeight: 600, color: approvedDays >= 5 ? 'var(--system-green)' : 'var(--label-secondary)', lineHeight: '18px', marginBottom: '1px' }}>Dagen</p>
                            <span className="tabular-nums" style={{ fontSize: '15px', fontWeight: 400, color: 'var(--label-primary)', lineHeight: '20px' }}>{approvedDays}/5</span>
                        </div>
                    </div>

                    {/* Totaal row — like "Totale schermtijd" */}
                    <div className="flex items-center justify-between" style={{ marginTop: '16px', paddingTop: '16px', borderTop: '0.5px solid var(--system-gray5)' }}>
                        <span style={{ fontSize: '17px', fontWeight: 600, color: 'var(--label-primary)', lineHeight: '22px' }}>Totaal uren</span>
                        <span className="tabular-nums" style={{ fontSize: '17px', fontWeight: 400, color: 'var(--label-primary)', lineHeight: '22px' }}>{fmt(totalHours)} uur</span>
                    </div>
                </div>
            );
        }

        // --- Inline Hours Input (iOS chip style) ---
        function HoursInput({ value, onChange, max, label }) {
            const [focused, setFocused] = useState(false);
            const [localValue, setLocalValue] = useState('');

            useEffect(() => {
                if (!focused) setLocalValue(value ? String(value) : '');
            }, [value, focused]);

            const handleChange = (e) => {
                const raw = e.target.value;
                setLocalValue(raw);
                const parsed = parseFloat(raw);
                onChange(isNaN(parsed) ? 0 : Math.min(parsed, max));
            };

            const handleBlur = () => {
                setFocused(false);
                if (localValue === '' || localValue === '-') {
                    onChange(0);
                    setLocalValue('');
                }
            };

            return (
                <div className="flex items-center justify-between" style={{ height: '48px', padding: '0 20px' }}>
                    <span style={{ fontSize: '15px', color: 'var(--label-secondary)', fontWeight: 400, lineHeight: '20px' }}>{label}</span>
                    <div style={{
                        background: 'var(--system-gray6)',
                        borderRadius: '6px',
                        padding: '5px 0',
                        width: '64px',
                        textAlign: 'center'
                    }}>
                        <input
                            type="number"
                            value={focused ? localValue : (value || '')}
                            onChange={handleChange}
                            onFocus={(e) => { setFocused(true); setLocalValue(value ? String(value) : ''); e.target.select(); }}
                            onBlur={handleBlur}
                            placeholder="0"
                            pattern="[0-9]*"
                            inputMode="numeric"
                            min="0" max={max} step="0.5"
                            className="text-center focus:outline-none"
                            style={{
                                width: '100%',
                                fontSize: '17px',
                                fontWeight: 600,
                                color: focused ? 'var(--system-blue)' : 'var(--label-primary)',
                                background: 'transparent',
                                border: 'none',
                                padding: 0,
                                letterSpacing: '-0.4px',
                                transition: 'color 0.15s ease'
                            }}
                        />
                    </div>
                </div>
            );
        }

        // --- Day Card (iOS grouped table style) ---
        function DayCard({ day, dayIndex, mondayDate, data, onChange, isToday }) {
            const workHours = parseFloat(data.workHours) || 0;
            const freeHours = parseFloat(data.freeHours) || 0;
            const totalDay = workHours + freeHours;
            const approved = totalDay >= HOURS_PER_DAY;
            const overLimit = totalDay > HOURS_PER_DAY;

            const setWork = (val) => onChange(day, { ...data, workHours: val });
            const setFree = (val) => onChange(day, { ...data, freeHours: val });

            const dotColor = overLimit ? 'var(--system-red)' : approved ? 'var(--system-green)' : 'var(--system-gray3)';
            const totalColor = overLimit ? 'var(--system-red)' : approved ? 'var(--system-green)' : 'var(--label-tertiary)';
            const cardBg = isToday ? 'rgba(0, 122, 255, 0.03)' : 'var(--card-bg)';

            return (
                <div className="overflow-hidden sm:flex-1"
                    style={{ background: cardBg, borderRadius: '13px' }}>
                    {/* Header row */}
                    <div className="flex items-center justify-between" style={{ height: '48px', padding: '0 20px' }}>
                        <div className="flex items-center" style={{ gap: '6px' }}>
                            <span className="rounded-full flex-shrink-0"
                                style={{ width: '6px', height: '6px', background: dotColor, transition: 'background 0.3s ease' }} />
                            <span style={{ fontSize: '17px', fontWeight: 600, color: 'var(--label-primary)', letterSpacing: '-0.4px', lineHeight: '22px' }}>{DAY_LABELS[day]}</span>
                        </div>
                        <div className="flex items-center" style={{ gap: '6px' }}>
                            <span className="tabular-nums" style={{ fontSize: '13px', fontWeight: 400, color: 'var(--label-secondary)', lineHeight: '18px' }}>
                                {getDayDate(mondayDate, dayIndex)}
                            </span>
                            <span className="tabular-nums" style={{
                                fontSize: '13px', fontWeight: 600, color: totalColor, lineHeight: '18px',
                                background: overLimit ? 'rgba(255, 59, 48, 0.1)' : approved ? 'rgba(52, 199, 89, 0.1)' : 'transparent',
                                borderRadius: '4px',
                                padding: totalDay > 0 ? '2px 6px' : '0'
                            }}>
                                {fmt(totalDay)}/{HOURS_PER_DAY}u
                            </span>
                        </div>
                    </div>

                    {/* Separator */}
                    <div style={{ height: '0.5px', background: 'var(--system-gray5)', marginLeft: '20px' }} />

                    {/* Work input row */}
                    <HoursInput value={workHours} onChange={setWork} max={24} label="Werk" />

                    {/* Separator */}
                    <div style={{ height: '0.5px', background: 'var(--system-gray5)', marginLeft: '20px' }} />

                    {/* Free input row */}
                    <HoursInput value={freeHours} onChange={setFree} max={8} label="Vrij" />
                </div>
            );
        }

        // --- Segmented Control ---
        function SegmentedControl({ onPrev, onToday, onNext, isCurrent }) {
            return (
                <div className="inline-flex" style={{ background: 'rgba(0,0,0,0.06)', padding: '2px', gap: '2px', borderRadius: '9px' }}>
                    <button onClick={onPrev}
                        className="flex items-center justify-center active:scale-95 transition-all"
                        style={{ width: '36px', height: '32px', fontSize: '15px', color: 'var(--label-secondary)', borderRadius: '7px' }}>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><polyline points="15 18 9 12 15 6" /></svg>
                    </button>
                    <button onClick={onToday}
                        className={`active:scale-95 transition-all ${isCurrent ? 'shadow-sm' : ''}`}
                        style={{
                            padding: '0 16px', height: '32px', fontSize: '13px', fontWeight: 600, lineHeight: '18px', borderRadius: '7px',
                            color: isCurrent ? 'var(--label-primary)' : 'var(--label-secondary)',
                            background: isCurrent ? 'var(--card-bg)' : 'transparent'
                        }}>
                        Vandaag
                    </button>
                    <button onClick={onNext}
                        className="flex items-center justify-center active:scale-95 transition-all"
                        style={{ width: '36px', height: '32px', fontSize: '15px', color: 'var(--label-secondary)', borderRadius: '7px' }}>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 18 15 12 9 6" /></svg>
                    </button>
                </div>
            );
        }

        // --- App ---
        function App() {
            const [currentMonday, setCurrentMonday] = useState(() => getMonday(new Date()));
            const [allData, setAllData] = useState(() => loadAllData());
            const [toastVisible, setToastVisible] = useState(false);

            const weekKey = formatDate(currentMonday);
            const weekData = allData[weekKey] || createEmptyWeek();
            const isCurrent = isCurrentWeek(currentMonday);

            const todayDate = new Date();
            const todayDayOfWeek = todayDate.getDay();
            const todayIndex = isCurrent && todayDayOfWeek >= 1 && todayDayOfWeek <= 5 ? todayDayOfWeek - 1 : -1;

            useEffect(() => {
                const shared = decodeWeekFromURL();
                if (shared && shared.week && shared.days) {
                    setAllData(prev => ({ ...prev, [shared.week]: shared.days }));
                    setCurrentMonday(new Date(shared.week));
                    window.history.replaceState({}, '', window.location.pathname);
                }
            }, []);

            useEffect(() => { saveAllData(allData); }, [allData]);

            const shareWeek = () => {
                navigator.clipboard.writeText(encodeWeekToURL(weekKey, weekData)).then(() => {
                    setToastVisible(true);
                    setTimeout(() => setToastVisible(false), 1800);
                });
            };

            const handleDayChange = useCallback((day, newDayData) => {
                setAllData(prev => ({
                    ...prev,
                    [weekKey]: { ...(prev[weekKey] || createEmptyWeek()), [day]: newDayData }
                }));
            }, [weekKey]);

            const goWeek = (offset) => {
                const next = new Date(currentMonday);
                next.setDate(next.getDate() + offset * 7);
                setCurrentMonday(next);
            };

            const goToday = () => setCurrentMonday(getMonday(new Date()));

            const weekEnd = new Date(currentMonday);
            weekEnd.setDate(weekEnd.getDate() + 4);
            const weekLabel = `${currentMonday.toLocaleDateString('nl-NL', { day: 'numeric', month: 'long' })} \u2014 ${weekEnd.toLocaleDateString('nl-NL', { day: 'numeric', month: 'long', year: 'numeric' })}`;

            return (
                <div className="max-w-xl mx-auto sm:max-w-7xl" style={{ padding: '16px 16px 48px' }}>
                    <Toast message="Link gekopieerd" visible={toastVisible} />

                    {/* Header — iOS large title style */}
                    <div className="flex items-center justify-between" style={{ marginBottom: '2px' }}>
                        <h1 style={{ fontSize: '34px', fontWeight: 700, color: 'var(--label-primary)', letterSpacing: '0.37px', lineHeight: '41px' }}>Weekplanner</h1>
                        <button onClick={shareWeek}
                            className="flex items-center justify-center rounded-full active:scale-90 transition-all"
                            style={{ width: '44px', height: '44px' }}
                            title="Deel week">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={{ color: 'var(--system-blue)' }}>
                                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8" /><polyline points="16 6 12 2 8 6" /><line x1="12" y1="2" x2="12" y2="15" />
                            </svg>
                        </button>
                    </div>

                    <p style={{ fontSize: '13px', fontWeight: 400, color: 'var(--label-secondary)', lineHeight: '18px', marginBottom: '16px' }}>{weekLabel}</p>

                    {/* Navigation */}
                    <div className="flex justify-center" style={{ marginBottom: '20px' }}>
                        <SegmentedControl
                            onPrev={() => goWeek(-1)}
                            onToday={goToday}
                            onNext={() => goWeek(1)}
                            isCurrent={isCurrent}
                        />
                    </div>

                    {/* Week summary */}
                    <div style={{ marginBottom: '24px' }}>
                        <WeekSummary days={weekData} todayIndex={todayIndex} />
                    </div>

                    {/* Section header — iOS outside-card section label */}
                    <p style={{ fontSize: '13px', fontWeight: 600, color: 'var(--label-secondary)', lineHeight: '18px', textTransform: 'uppercase', letterSpacing: '0.5px', marginBottom: '8px', paddingLeft: '4px' }}>Uren per dag</p>

                    {/* Day cards */}
                    <div className="flex flex-col sm:flex-row" style={{ gap: '10px' }}>
                        {DAYS.map((day, i) => (
                            <DayCard
                                key={day}
                                day={day}
                                dayIndex={i}
                                mondayDate={currentMonday}
                                data={weekData[day] || { workHours: 0, freeHours: 0 }}
                                onChange={handleDayChange}
                                isToday={i === todayIndex}
                            />
                        ))}
                    </div>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
